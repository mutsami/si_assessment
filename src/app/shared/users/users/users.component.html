<h3 class="font-bold mb-4 text-2xl">Users</h3>
<div
  class="relative flex flex-col min-w-0 break-words border border-dashed bg-clip-border rounded-2xl border-stone-200 bg-light/30 mb-5"
>
  <!-- card header -->
  <div
    class="px-9 pt-5 flex justify-between items-stretch flex-wrap min-h-[70px] pb-0 bg-transparent"
  >
    <h3
      class="flex flex-col items-start justify-center m-2 ml-0 font-medium text-xl/tight text-dark"
    >
      <span class="mr-3 font-semibold text-dark">All Users</span>
      <span class="mt-1 font-medium text-secondary-dark text-lg/normal"
        >Check all user records available</span
      >
    </h3>
    <div class="relative flex flex-wrap items-center my-2">
      <a
        href="javascript:void(0)"
        class="inline-block text-[.925rem] font-medium leading-normal text-center align-middle cursor-pointer rounded-2xl transition-colors duration-150 ease-in-out text-light-inverse bg-light-dark border-light shadow-none border-0 py-2 px-5 hover:bg-secondary active:bg-light focus:bg-light"
        >See all users</a
      >
    </div>
  </div>
  <!-- end card header -->
  <!-- card body  -->
  <div class="flex-auto block py-8 pt-6 px-9">
    <div class="overflow-x-auto">
      <div *ngIf="loading">
        <div
          role="status"
          class="max-w-full p-4 space-y-4 border border-gray-200 divide-y divide-gray-200 rounded shadow animate-pulse dark:divide-gray-700 md:p-6 dark:border-gray-700"
        >
          <div class="flex items-center justify-between">
            <div>
              <div class="flex items-center mt-4">
                <svg
                  class="w-10 h-10 me-3 text-gray-200 dark:text-gray-700"
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    d="M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0Zm0 5a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm0 13a8.949 8.949 0 0 1-4.951-1.488A3.987 3.987 0 0 1 9 13h2a3.987 3.987 0 0 1 3.951 3.512A8.949 8.949 0 0 1 10 18Z"
                  />
                </svg>
                <div>
                  <div
                    class="h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-32 mb-2"
                  ></div>
                  <div
                    class="w-48 h-2 bg-gray-200 rounded-full dark:bg-gray-700"
                  ></div>
                </div>

                <div class="px-4">
                  <div
                    class="h-2.5 bg-gray-300 rounded-full dark:bg-gray-600 w-24 mb-2.5"
                  ></div>
                  <div
                    class="w-32 h-2 bg-gray-200 rounded-full dark:bg-gray-700"
                  ></div>
                </div>
              </div>
            </div>
            <div
              class="h-2.5 bg-gray-300 rounded-full dark:bg-gray-700 w-12"
            ></div>
          </div>
          <div class="flex items-center justify-between">
            <div>
              <div class="flex items-center mt-4">
                <svg
                  class="w-10 h-10 me-3 text-gray-200 dark:text-gray-700"
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    d="M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0Zm0 5a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm0 13a8.949 8.949 0 0 1-4.951-1.488A3.987 3.987 0 0 1 9 13h2a3.987 3.987 0 0 1 3.951 3.512A8.949 8.949 0 0 1 10 18Z"
                  />
                </svg>
                <div>
                  <div
                    class="h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-32 mb-2"
                  ></div>
                  <div
                    class="w-48 h-2 bg-gray-200 rounded-full dark:bg-gray-700"
                  ></div>
                </div>

                <div class="px-4">
                  <div
                    class="h-2.5 bg-gray-300 rounded-full dark:bg-gray-600 w-24 mb-2.5"
                  ></div>
                  <div
                    class="w-32 h-2 bg-gray-200 rounded-full dark:bg-gray-700"
                  ></div>
                </div>
              </div>
            </div>
            <div
              class="h-2.5 bg-gray-300 rounded-full dark:bg-gray-700 w-12"
            ></div>
          </div>
          <div class="flex items-center justify-between">
            <div>
              <div class="flex items-center mt-4">
                <svg
                  class="w-10 h-10 me-3 text-gray-200 dark:text-gray-700"
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    d="M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0Zm0 5a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm0 13a8.949 8.949 0 0 1-4.951-1.488A3.987 3.987 0 0 1 9 13h2a3.987 3.987 0 0 1 3.951 3.512A8.949 8.949 0 0 1 10 18Z"
                  />
                </svg>
                <div>
                  <div
                    class="h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-32 mb-2"
                  ></div>
                  <div
                    class="w-48 h-2 bg-gray-200 rounded-full dark:bg-gray-700"
                  ></div>
                </div>

                <div class="px-4">
                  <div
                    class="h-2.5 bg-gray-300 rounded-full dark:bg-gray-600 w-24 mb-2.5"
                  ></div>
                  <div
                    class="w-32 h-2 bg-gray-200 rounded-full dark:bg-gray-700"
                  ></div>
                </div>
              </div>
            </div>
            <div
              class="h-2.5 bg-gray-300 rounded-full dark:bg-gray-700 w-12"
            ></div>
          </div>
          <div class="flex items-center justify-between">
            <div>
              <div class="flex items-center mt-4">
                <svg
                  class="w-10 h-10 me-3 text-gray-200 dark:text-gray-700"
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    d="M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0Zm0 5a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm0 13a8.949 8.949 0 0 1-4.951-1.488A3.987 3.987 0 0 1 9 13h2a3.987 3.987 0 0 1 3.951 3.512A8.949 8.949 0 0 1 10 18Z"
                  />
                </svg>
                <div>
                  <div
                    class="h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-32 mb-2"
                  ></div>
                  <div
                    class="w-48 h-2 bg-gray-200 rounded-full dark:bg-gray-700"
                  ></div>
                </div>

                <div class="px-4">
                  <div
                    class="h-2.5 bg-gray-300 rounded-full dark:bg-gray-600 w-24 mb-2.5"
                  ></div>
                  <div
                    class="w-32 h-2 bg-gray-200 rounded-full dark:bg-gray-700"
                  ></div>
                </div>
              </div>
            </div>
            <div
              class="h-2.5 bg-gray-300 rounded-full dark:bg-gray-700 w-12"
            ></div>
          </div>

          <div class="flex items-center justify-between">
            <div>
              <div class="flex items-center mt-4">
                <svg
                  class="w-10 h-10 me-3 text-gray-200 dark:text-gray-700"
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    d="M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0Zm0 5a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm0 13a8.949 8.949 0 0 1-4.951-1.488A3.987 3.987 0 0 1 9 13h2a3.987 3.987 0 0 1 3.951 3.512A8.949 8.949 0 0 1 10 18Z"
                  />
                </svg>
                <div>
                  <div
                    class="h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-32 mb-2"
                  ></div>
                  <div
                    class="w-48 h-2 bg-gray-200 rounded-full dark:bg-gray-700"
                  ></div>
                </div>

                <div class="px-4">
                  <div
                    class="h-2.5 bg-gray-300 rounded-full dark:bg-gray-600 w-24 mb-2.5"
                  ></div>
                  <div
                    class="w-32 h-2 bg-gray-200 rounded-full dark:bg-gray-700"
                  ></div>
                </div>
              </div>
            </div>
            <div
              class="h-2.5 bg-gray-300 rounded-full dark:bg-gray-700 w-12"
            ></div>
          </div>

          <div class="flex items-center justify-between">
            <div>
              <div class="flex items-center mt-4">
                <svg
                  class="w-10 h-10 me-3 text-gray-200 dark:text-gray-700"
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    d="M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0Zm0 5a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm0 13a8.949 8.949 0 0 1-4.951-1.488A3.987 3.987 0 0 1 9 13h2a3.987 3.987 0 0 1 3.951 3.512A8.949 8.949 0 0 1 10 18Z"
                  />
                </svg>
                <div>
                  <div
                    class="h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-32 mb-2"
                  ></div>
                  <div
                    class="w-48 h-2 bg-gray-200 rounded-full dark:bg-gray-700"
                  ></div>
                </div>

                <div class="px-4">
                  <div
                    class="h-2.5 bg-gray-300 rounded-full dark:bg-gray-600 w-24 mb-2.5"
                  ></div>
                  <div
                    class="w-32 h-2 bg-gray-200 rounded-full dark:bg-gray-700"
                  ></div>
                </div>
              </div>
            </div>
            <div
              class="h-2.5 bg-gray-300 rounded-full dark:bg-gray-700 w-12"
            ></div>
          </div>

          <div class="flex items-center justify-between">
            <div>
              <div class="flex items-center mt-4">
                <svg
                  class="w-10 h-10 me-3 text-gray-200 dark:text-gray-700"
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    d="M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0Zm0 5a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm0 13a8.949 8.949 0 0 1-4.951-1.488A3.987 3.987 0 0 1 9 13h2a3.987 3.987 0 0 1 3.951 3.512A8.949 8.949 0 0 1 10 18Z"
                  />
                </svg>
                <div>
                  <div
                    class="h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-32 mb-2"
                  ></div>
                  <div
                    class="w-48 h-2 bg-gray-200 rounded-full dark:bg-gray-700"
                  ></div>
                </div>

                <div class="px-4">
                  <div
                    class="h-2.5 bg-gray-300 rounded-full dark:bg-gray-600 w-24 mb-2.5"
                  ></div>
                  <div
                    class="w-32 h-2 bg-gray-200 rounded-full dark:bg-gray-700"
                  ></div>
                </div>
              </div>
            </div>
            <div
              class="h-2.5 bg-gray-300 rounded-full dark:bg-gray-700 w-12"
            ></div>
          </div>
          <span class="sr-only">Loading...</span>
        </div>
      </div>
      <div *ngIf="!loading">
        <table class="w-full my-0 align-middle text-dark border-neutral-200">
          <thead class="align-bottom">
            <tr class="font-semibold text-[0.95rem] text-secondary-dark">
              <th class="pb-3 text-start min-w-[175px]">USER</th>
              <th class="pb-3 text-end min-w-[100px]">ALBUMS</th>
              <th class="pb-3 text-end min-w-[100px]">MEMBER SINCE</th>
              <th class="pb-3 pr-12 text-end min-w-[175px]">COUNTRY</th>
              <th class="pb-3 pr-12 text-end min-w-[100px]">FOLLOWERS</th>
              <th class="pb-3 text-end min-w-[50px]">DETAILS</th>
            </tr>
          </thead>
          <tbody>
            <tr
              *ngFor="let user of users"
              class="border-b border-dashed last:border-b-0"
            >
              <td class="p-3 pl-0">
                <div class="flex items-center">
                  <div class="relative inline-block shrink-0 rounded-2xl me-3">
                    <img
                      *ngIf="user.photoURL"
                      [src]="user.photoURL"
                      class="w-[50px] h-[50px] inline-block shrink-0 rounded-2xl"
                      alt=""
                    />

                    <img
                      *ngIf="!user.photoURL"
                      class="w-[50px] h-[50px] inline-block shrink-0 rounded-2xl"
                      src="./../../../../assets/user.png"
                      alt=""
                      srcset=""
                    />
                  </div>
                  <div class="flex flex-col justify-start">
                    <a
                      href="javascript:void(0)"
                      class="mb-1 font-semibold transition-colors duration-200 ease-in-out text-lg/normal text-secondary-inverse hover:text-primary"
                    >
                      {{
                        user.displayName
                          ? (user.displayName | titlecase)
                          : (user.email | titlecase)
                      }}
                    </a>
                  </div>
                </div>
              </td>
              <td class="p-3 pr-0 text-end">
                <span
                  *ngIf="user.ratio > 0"
                  class="text-center align-baseline inline-flex px-2 py-1 mr-auto items-center font-semibold text-base/none text-success bg-success-light rounded-lg"
                >
                  <span class="text-black"
                    >{{ user.no_of_albums }} &nbsp;
                  </span>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="w-5 h-5 mr-1"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941"
                    />
                  </svg>
                  <span class="text-xs">{{ user.ratio }}%</span>
                </span>

                <span
                  *ngIf="user.ratio < 0"
                  class="text-center align-baseline inline-flex px-2 py-1 mr-auto items-center font-semibold text-base/none text-danger bg-danger-light rounded-lg"
                >
                  <span class="font-semibold text-black text-md/normal"
                    >{{ user.no_of_albums }} &nbsp;</span
                  >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="w-5 h-5 mr-1"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M2.25 6L9 12.75l4.286-4.286a11.948 11.948 0 014.306 6.43l.776 2.898m0 0l3.182-5.511m-3.182 5.51l-5.511-3.181"
                    />
                  </svg>
                  <span class="text-xs">{{ user.ratio }}%</span>
                </span>
              </td>
              <td class="p-3 pr-0 text-end">
                <span
                  class="text-center align-baseline inline-flex px-2 py-1 mr-auto items-center font-semibold text-base/none text-gray-400 rounded-lg"
                >
                  {{
                    user.member_since.toDate() | date: "medium" | dateAgo
                  }}</span
                >
              </td>
              <td class="p-3 pr-12 text-end">
                <span
                  class="text-center align-baseline inline-flex px-4 py-3 mr-auto items-center font-semibold text-[.95rem] leading-none text-primary rounded-lg"
                >
                  <img
                    width="25px"
                    src="./../../../assets/flags/1x1/ke.svg"
                    alt=""
                    srcset=""
                  />
                </span>
              </td>
              <td class="pr-0 text-end">
                <div class="flex">
                  <img
                    src="https://demos.creative-tim.com/notus-js/assets/img/team-1-800x800.jpg"
                    alt="..."
                    class="w-10 h-10 rounded-full border-2 border-blueGray-50 shadow"
                  />
                  <img
                    src="https://demos.creative-tim.com/notus-js/assets/img/team-2-800x800.jpg"
                    alt="..."
                    class="w-10 h-10 rounded-full border-2 border-blueGray-50 shadow -ml-4"
                  />
                  <img
                    src="https://demos.creative-tim.com/notus-js/assets/img/team-3-800x800.jpg"
                    alt="..."
                    class="w-10 h-10 rounded-full border-2 border-blueGray-50 shadow -ml-4"
                  />
                  <img
                    src="https://demos.creative-tim.com/notus-js/assets/img/team-4-470x470.png"
                    alt="..."
                    class="w-10 h-10 rounded-full border-2 border-blueGray-50 shadow -ml-4"
                  />
                  <p
                    class="flex items-center justify-center w-10 h-10 -mx-1 text-xs text-blue-600 bg-blue-100 border-2 border-white rounded-full"
                  >
                    +4
                  </p>
                </div>
              </td>
              <td class="p-3 pr-0 text-end">
                <button
                  [routerLink]="['/user', user.id]"
                  class="ml-auto relative text-secondary-dark bg-light-dark hover:text-primary flex items-center h-[25px] w-[25px] text-base font-medium leading-normal text-center align-middle cursor-pointer rounded-2xl transition-colors duration-200 ease-in-out shadow-none border-0 justify-center"
                >
                  <span
                    class="flex items-center justify-center p-0 m-0 leading-none shrink-0"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke-width="1.5"
                      stroke="currentColor"
                      class="w-4 h-4"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M8.25 4.5l7.5 7.5-7.5 7.5"
                      ></path>
                    </svg>
                  </span>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
